{% extends 'base.html.twig' %}

{% block titulo_operacion %}KNP men√∫{% endblock %}
{% block body %}
    
    <table class="table table-bordered table-hover">
        <tbody>
            {% for modulo in modulos %}
                {% if item_modulo is not defined or item_modulo.idModulo != modulo.idModulo %}
                    <tr>
                        <td class="bg-secondary">{{modulo.nombre}}{% set item_modulo = modulo.idModulo %}</td>
                    </tr>    
                {% endif %}
                {% for submodulo in modulo.submodulos %}
                    {% if submodulo.operaciones.first() is empty %}
                        <tr>
                            <td>{{submodulo.nombre}}</td>
                        </tr>
                    {% else %}
                        {% if item_submodulo is not defined or item_submodulo.idSubmodulo != submodulo.idSubmodulo %}
                            <tr>
                                <td class="bg-secondary">{{submodulo.nombre}}{% set item_submodulo = submodulo.idSubmodulo %}</td>
                            </tr>    
                        {% endif %}
                        {% for operacion in submodulo.operaciones %}
                            <tr>
                                <td>{{operacion.nombre}}</td>
                            </tr>
                        {% endfor %}    
                    {% endif %}    
                     
                {% endfor %}    
            {% endfor %}
        </tbody>
    </table>    
    
{% endblock %}